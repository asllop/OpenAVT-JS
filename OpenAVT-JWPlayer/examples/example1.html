<html>
<head>
    <!-- OpenAVT -->
    <script src="/dist/umd/openavt-jwplayer.js"></script>
    <!-- JWPlayer v8.21.2 -->
    <script src="https://cdn.jwplayer.com/libraries/PACloPvR.js"></script>
</head>
<body>
    <div id="videoPlayer"></div>

    <script>
        OpenAVT.OAVTLog.setLogLevel(OpenAVT.LogLevel.Verbose)
        OpenAVT.OAVTLog.verbose("Hello Example1 of JWPlayer Tracker");

        let player = jwplayer("videoPlayer").setup({
            playlist: [{
                title: "Parkour DASH",
                file: "https://bitmovin-a.akamaihd.net/content/MI201109210084_1/mpds/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.mpd"
            },       {
                title: "Airshow Live HSL",
                file: "http://cdn3.viblast.com/streams/hls/airshow/playlist.m3u8"
            }]
        });

        let fakeBackend = {
            endOfService: function() {
                OpenAVT.OAVTLog.verbose("Fake Backend enfOfService")
            },
            instrumentReady: function(instrument) {
                OpenAVT.OAVTLog.verbose("Fake Backend instrumentReady", instrument)
            },
            sendEvent: function(ev) {
                OpenAVT.OAVTLog.verbose("Fake Backend sendEvent ->", ev.action.actionName, ev.getDictionary(), ev)
            },
            sendMetric: function(mt) {
                OpenAVT.OAVTLog.verbose("Fake Backend sendMetric", mt)
            }
        }
        
        let instrument = new OpenAVT.OAVTInstrument(new OpenAVT.OAVTHubCore(), fakeBackend);
        let trackerId = instrument.addTracker(new OpenAVT.OAVTTrackerJWPlayer(player));
        instrument.ready()

    </script>
</body>
</html>
